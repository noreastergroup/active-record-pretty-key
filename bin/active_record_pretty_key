#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "active_record_pretty_key/generators/install_generator"

# Parse command line arguments
command = ARGV.first

case command
when "install", "i"
  puts "Generating tickets table migration..."
  generator = ActiveRecordPrettyKey::Generators::InstallGenerator.new
  generator.create_migration
  puts "Migration created successfully!"
  puts "Run 'rails db:migrate' to apply the migration."
when "help", "h", "--help", "-h"
  puts "ActiveRecordPrettyKey Generator"
  puts ""
  puts "Usage:"
  puts "  active_record_pretty_key install    # Generate tickets table migration"
  puts "  active_record_pretty_key help       # Show this help message"
  puts ""
  puts "Commands:"
  puts "  install, i    Generate the tickets table migration"
  puts "  help, h       Show this help message"
else
  puts "Unknown command: #{command}"
  puts "Run 'active_record_pretty_key help' for usage information."
  exit 1
end
